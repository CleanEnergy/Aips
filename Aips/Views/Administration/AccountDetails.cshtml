@model EntityClasses.User
@{
    ViewBag.Title = "Account details";
}

<h2>@ViewBag.Title</h2>

<dl class="dl-horizontal">
    <dt>First name:</dt>
    <dd>@Model.FirstName</dd>

    <dt>Last name:</dt>
    <dd>@Model.LastName</dd>

    <dt>Username:</dt>
    <dd>@Model.UserName</dd>

    <dt>Email:</dt>
    <dd>@Model.Email</dd>
</dl>

<h2>Account options</h2>

<input type="button" value="Lock account" class="btn btn-danger" onclick="lockAccount('@Model.Id')"/>

<input type="button" value="Unlock account" class="btn btn-default" onclick="unlockAccount('@Model.Id')"/>

<script type="text/javascript">

    function lockAccount(id) {
        if (confirm("Are you sure you wish to lock this account?")) {
            $.ajax({
                url: '/Administration/LockAccount',
                method: 'post',
                data: { id: id },
                success: function () {
                    window.location.reload();
                },
                error: function () {
                    alert('An error occured!');
                }
            });
        }
    }

    function unlockAccount(id) {
        if (confirm("Are you sure you wish to unlock this account?")) {
            $.ajax({
                url: '/Administration/UnlockAccount',
                method: 'post',
                data: { id: id },
                success: function () {
                    window.location.reload();
                },
                error: function () {
                    alert('An error occured!');
                }
            });
        }
    }

</script>